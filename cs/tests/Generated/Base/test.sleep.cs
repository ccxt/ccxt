using ccxt;
using ccxt.pro;
namespace Tests;

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

public partial class BaseTest
{
        async public Task testSleep()
        {
            var exchange = new ccxt.Exchange(new Dictionary<string, object>() {
                { "id", "sampleexchange" },
            });
            object start = exchange.milliseconds();
            object sleepAmount = 100; // milliseconds
            await exchange.sleep(sleepAmount);
            object end = exchange.milliseconds();
            object elapsed = subtract(end, start);
            // Allow a small margin of error due to execution time
            object marginOfError = 20;
            object maxElapsed = add(sleepAmount, marginOfError);
            Assert(isGreaterThanOrEqual(elapsed, sleepAmount), add(add(add(add("Elapsed time ", ((object)elapsed).ToString()), "ms is less than sleep amount "), ((object)sleepAmount).ToString()), "ms"));
            Assert(isLessThanOrEqual(elapsed, maxElapsed), add(add(add(add("Elapsed time ", ((object)elapsed).ToString()), "ms exceeds sleep amount "), ((object)maxElapsed).ToString()), "ms"));
        }
}