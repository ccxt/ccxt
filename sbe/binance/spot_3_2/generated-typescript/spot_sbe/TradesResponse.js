/**
 * Auto-generated by SBE (Simple Binary Encoding)
 * Schema: spot_sbe
 * DO NOT EDIT
 */
export class TradesResponseDecoder {
    constructor(byteOrder = 'little') {
        this.littleEndian = byteOrder === 'little';
    }
    decode(buffer, offset = 0) {
        const view = new DataView(buffer);
        let pos = offset;
        const priceExponent = view.getInt8(pos);
        pos += 1;
        const qtyExponent = view.getInt8(pos);
        pos += 1;
        // Skip to end of block for forward compatibility
        pos = offset + TradesResponseDecoder.BLOCK_LENGTH;
        const trades = this.decodeTradesGroup(view, pos);
        pos = trades.nextOffset;
        return {
            priceExponent: priceExponent,
            qtyExponent: qtyExponent,
            trades: trades.items
        };
    }
    decodeTradesGroup(view, offset) {
        let pos = offset;
        const blockLength = view.getUint16(pos, this.littleEndian);
        pos += 2;
        const numInGroup = view.getUint32(pos, this.littleEndian);
        pos += 4;
        const items = [];
        for (let i = 0; i < numInGroup; i++) {
            const itemStart = pos;
            const id = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            const price = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            const qty = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            const quoteQty = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            const time = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            const isBuyerMaker = view.getUint8(pos);
            pos += 1;
            const isBestMatch = view.getUint8(pos);
            pos += 1;
            // Skip to next block for forward compatibility
            pos = itemStart + blockLength;
            items.push({
                id: id,
                price: price,
                qty: qty,
                quoteQty: quoteQty,
                time: time,
                isBuyerMaker: isBuyerMaker,
                isBestMatch: isBestMatch
            });
        }
        return { items, nextOffset: pos };
    }
    static getBlockLength() {
        return TradesResponseDecoder.BLOCK_LENGTH;
    }
    static getTemplateId() {
        return TradesResponseDecoder.TEMPLATE_ID;
    }
    static getSchemaId() {
        return TradesResponseDecoder.SCHEMA_ID;
    }
    static getSchemaVersion() {
        return TradesResponseDecoder.SCHEMA_VERSION;
    }
}
TradesResponseDecoder.BLOCK_LENGTH = 2;
TradesResponseDecoder.TEMPLATE_ID = 201;
TradesResponseDecoder.SCHEMA_ID = 3;
TradesResponseDecoder.SCHEMA_VERSION = 2;
