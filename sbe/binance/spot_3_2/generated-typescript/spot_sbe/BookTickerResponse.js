/**
 * Auto-generated by SBE (Simple Binary Encoding)
 * Schema: spot_sbe
 * DO NOT EDIT
 */
export class BookTickerResponseDecoder {
    constructor(byteOrder = 'little') {
        this.littleEndian = byteOrder === 'little';
    }
    decode(buffer, offset = 0) {
        const view = new DataView(buffer);
        let pos = offset;
        // Skip to end of block for forward compatibility
        pos = offset + BookTickerResponseDecoder.BLOCK_LENGTH;
        const tickers = this.decodeTickersGroup(view, pos);
        pos = tickers.nextOffset;
        return {
            tickers: tickers.items
        };
    }
    decodeTickersGroup(view, offset) {
        let pos = offset;
        const blockLength = view.getUint16(pos, this.littleEndian);
        pos += 2;
        const numInGroup = view.getUint32(pos, this.littleEndian);
        pos += 4;
        const items = [];
        for (let i = 0; i < numInGroup; i++) {
            const itemStart = pos;
            const priceExponent = view.getInt8(pos);
            pos += 1;
            const qtyExponent = view.getInt8(pos);
            pos += 1;
            const bidPrice = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            const bidQty = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            const askPrice = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            const askQty = view.getBigInt64(pos, this.littleEndian);
            pos += 8;
            // Skip to next block for forward compatibility
            pos = itemStart + blockLength;
            items.push({
                priceExponent: priceExponent,
                qtyExponent: qtyExponent,
                bidPrice: bidPrice,
                bidQty: bidQty,
                askPrice: askPrice,
                askQty: askQty
            });
        }
        return { items, nextOffset: pos };
    }
    static getBlockLength() {
        return BookTickerResponseDecoder.BLOCK_LENGTH;
    }
    static getTemplateId() {
        return BookTickerResponseDecoder.TEMPLATE_ID;
    }
    static getSchemaId() {
        return BookTickerResponseDecoder.SCHEMA_ID;
    }
    static getSchemaVersion() {
        return BookTickerResponseDecoder.SCHEMA_VERSION;
    }
}
BookTickerResponseDecoder.BLOCK_LENGTH = 0;
BookTickerResponseDecoder.TEMPLATE_ID = 212;
BookTickerResponseDecoder.SCHEMA_ID = 3;
BookTickerResponseDecoder.SCHEMA_VERSION = 2;
