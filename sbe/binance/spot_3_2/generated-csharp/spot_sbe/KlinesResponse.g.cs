// <auto-generated>
//     Generated SBE (Simple Binary Encoding) message codec
// </auto-generated>

#pragma warning disable 1591 // disable warning on missing comments
using System;
using System.Text;
using Org.SbeTool.Sbe.Dll;

namespace Spot_sbe
{
    public sealed partial class KlinesResponse
    {
        public const ushort BlockLength = (ushort)2;
        public const ushort TemplateId = (ushort)203;
        public const ushort SchemaId = (ushort)3;
        public const ushort SchemaVersion = (ushort)2;
        public const string SemanticType = "";
        public const string SemanticVersion = "5.2";

        private readonly KlinesResponse _parentMessage;
        private DirectBuffer _buffer;
        private int _offset;
        private int _limit;
        private int _actingBlockLength;
        private int _actingVersion;

        public int Offset { get { return _offset; } }

        public KlinesResponse()
        {
            _parentMessage = this;
        }

        public KlinesResponse WrapForEncode(DirectBuffer buffer, int offset)
        {
            _buffer = buffer;
            _offset = offset;
            _actingBlockLength = BlockLength;
            _actingVersion = SchemaVersion;
            Limit = offset + _actingBlockLength;
            return this;
        }

        public KlinesResponse WrapForEncodeAndApplyHeader(DirectBuffer buffer, int offset, MessageHeader headerEncoder)
        {
            headerEncoder.Wrap(buffer, offset, SchemaVersion);
            headerEncoder.BlockLength = BlockLength;
            headerEncoder.TemplateId = TemplateId;
            headerEncoder.SchemaId = SchemaId;
            headerEncoder.Version = SchemaVersion;
            
            return WrapForEncode(buffer, offset + MessageHeader.Size);
        }

        public KlinesResponse WrapForDecode(DirectBuffer buffer, int offset, int actingBlockLength, int actingVersion)
        {
            _buffer = buffer;
            _offset = offset;
            _actingBlockLength = actingBlockLength;
            _actingVersion = actingVersion;
            Limit = offset + _actingBlockLength;
            return this;
        }

        public KlinesResponse WrapForDecodeAndApplyHeader(DirectBuffer buffer, int offset, MessageHeader headerDecoder)
        {
            headerDecoder.Wrap(buffer, offset, SchemaVersion);
            
            return WrapForDecode(buffer, offset + MessageHeader.Size,  headerDecoder.BlockLength, headerDecoder.Version);
        }

        public int Size
        {
            get
            {
                return _limit - _offset;
            }
        }

        public int Limit
        {
            get
            {
                return _limit;
            }
            set
            {
                _buffer.CheckLimit(value);
                _limit = value;
            }
        }


        public const int PriceExponentId = 1;
        public const int PriceExponentSinceVersion = 0;
        public const int PriceExponentDeprecated = 0;
        public bool PriceExponentInActingVersion()
        {
            return _actingVersion >= PriceExponentSinceVersion;
        }

        public const int PriceExponentOffset = 0;

        public static string PriceExponentMetaAttribute(MetaAttribute metaAttribute)
        {
            switch (metaAttribute)
            {
                case MetaAttribute.Epoch: return "";
                case MetaAttribute.TimeUnit: return "";
                case MetaAttribute.SemanticType: return "";
                case MetaAttribute.Presence: return "required";
            }

            return "";
        }

        public const sbyte PriceExponentNullValue = (sbyte)-128;
        public const sbyte PriceExponentMinValue = (sbyte)-127;
        public const sbyte PriceExponentMaxValue = (sbyte)127;

        public sbyte PriceExponent
        {
            get
            {
                return _buffer.Int8Get(_offset + 0);
            }
            set
            {
                _buffer.Int8Put(_offset + 0, value);
            }
        }


        public const int QtyExponentId = 2;
        public const int QtyExponentSinceVersion = 0;
        public const int QtyExponentDeprecated = 0;
        public bool QtyExponentInActingVersion()
        {
            return _actingVersion >= QtyExponentSinceVersion;
        }

        public const int QtyExponentOffset = 1;

        public static string QtyExponentMetaAttribute(MetaAttribute metaAttribute)
        {
            switch (metaAttribute)
            {
                case MetaAttribute.Epoch: return "";
                case MetaAttribute.TimeUnit: return "";
                case MetaAttribute.SemanticType: return "";
                case MetaAttribute.Presence: return "required";
            }

            return "";
        }

        public const sbyte QtyExponentNullValue = (sbyte)-128;
        public const sbyte QtyExponentMinValue = (sbyte)-127;
        public const sbyte QtyExponentMaxValue = (sbyte)127;

        public sbyte QtyExponent
        {
            get
            {
                return _buffer.Int8Get(_offset + 1);
            }
            set
            {
                _buffer.Int8Put(_offset + 1, value);
            }
        }


        private readonly KlinesGroup _klines = new KlinesGroup();

        public const long KlinesId = 100;
        public const int KlinesSinceVersion = 0;
        public const int KlinesDeprecated = 0;
        public bool KlinesInActingVersion()
        {
            return _actingVersion >= KlinesSinceVersion;
        }

        public KlinesGroup Klines
        {
            get
            {
                _klines.WrapForDecode(_parentMessage, _buffer, _actingVersion);
                return _klines;
            }
        }

        public KlinesGroup KlinesCount(int count)
        {
            _klines.WrapForEncode(_parentMessage, _buffer, count);
            return _klines;
        }

        public sealed partial class KlinesGroup
        {
            private readonly GroupSizeEncoding _dimensions = new GroupSizeEncoding();
            private KlinesResponse _parentMessage;
            private DirectBuffer _buffer;
            private int _blockLength;
            private int _actingVersion;
            private int _count;
            private int _index;
            private int _offset;

            internal void NotPresent()
            {
                _count = 0;
                _index = 0;
                _buffer = null;
                _offset = 0;
            }

            public void WrapForDecode(KlinesResponse parentMessage, DirectBuffer buffer, int actingVersion)
            {
                _parentMessage = parentMessage;
                _buffer = buffer;
                _dimensions.Wrap(buffer, parentMessage.Limit, actingVersion);
                _parentMessage.Limit = parentMessage.Limit + SbeHeaderSize;
                _blockLength = _dimensions.BlockLength;
                _count = (int) _dimensions.NumInGroup;
                _actingVersion = actingVersion;
                _index = 0;
            }

            public void WrapForEncode(KlinesResponse parentMessage, DirectBuffer buffer, int count)
            {
                if ((uint) count > 2147483647)
                {
                    ThrowHelper.ThrowCountOutOfRangeException(count);
                }

                _parentMessage = parentMessage;
                _buffer = buffer;
                _dimensions.Wrap(buffer, parentMessage.Limit, SchemaVersion);
                parentMessage.Limit = parentMessage.Limit + SbeHeaderSize;
                _dimensions.BlockLength = SbeBlockLength;
                _dimensions.NumInGroup = (uint) count;
                _index = 0;
                _count = count;
                _blockLength = SbeBlockLength;
                _actingVersion = SchemaVersion;
            }

            public const int SbeBlockLength = 120;
            public const int SbeHeaderSize = 6;
            public int ActingBlockLength { get { return _blockLength; } }

            public int Count { get { return _count; } }

            public bool HasNext { get { return _index < _count; } }


            public int ResetCountToIndex()
            {
                _count = _index;
                _dimensions.NumInGroup = (uint) _count;

                return _count;
            }

            public KlinesGroup Next()
            {
                if (_index >= _count)
                {
                    ThrowHelper.ThrowInvalidOperationException();
                }

                _offset = _parentMessage.Limit;
                _parentMessage.Limit = _offset + _blockLength;
                ++_index;

                return this;
            }

            public System.Collections.IEnumerator GetEnumerator()
            {
                while (this.HasNext)
                {
                    yield return this.Next();
                }
            }

            public const int OpenTimeId = 1;
            public const int OpenTimeSinceVersion = 0;
            public const int OpenTimeDeprecated = 0;
            public bool OpenTimeInActingVersion()
            {
                return _actingVersion >= OpenTimeSinceVersion;
            }

            public const int OpenTimeOffset = 0;

            public static string OpenTimeMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const long OpenTimeNullValue = -9223372036854775808L;
            public const long OpenTimeMinValue = -9223372036854775807L;
            public const long OpenTimeMaxValue = 9223372036854775807L;

            public long OpenTime
            {
                get
                {
                    return _buffer.Int64GetLittleEndian(_offset + 0);
                }
                set
                {
                    _buffer.Int64PutLittleEndian(_offset + 0, value);
                }
            }


            public const int OpenPriceId = 2;
            public const int OpenPriceSinceVersion = 0;
            public const int OpenPriceDeprecated = 0;
            public bool OpenPriceInActingVersion()
            {
                return _actingVersion >= OpenPriceSinceVersion;
            }

            public const int OpenPriceOffset = 8;

            public static string OpenPriceMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const long OpenPriceNullValue = -9223372036854775808L;
            public const long OpenPriceMinValue = -9223372036854775807L;
            public const long OpenPriceMaxValue = 9223372036854775807L;

            public long OpenPrice
            {
                get
                {
                    return _buffer.Int64GetLittleEndian(_offset + 8);
                }
                set
                {
                    _buffer.Int64PutLittleEndian(_offset + 8, value);
                }
            }


            public const int HighPriceId = 3;
            public const int HighPriceSinceVersion = 0;
            public const int HighPriceDeprecated = 0;
            public bool HighPriceInActingVersion()
            {
                return _actingVersion >= HighPriceSinceVersion;
            }

            public const int HighPriceOffset = 16;

            public static string HighPriceMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const long HighPriceNullValue = -9223372036854775808L;
            public const long HighPriceMinValue = -9223372036854775807L;
            public const long HighPriceMaxValue = 9223372036854775807L;

            public long HighPrice
            {
                get
                {
                    return _buffer.Int64GetLittleEndian(_offset + 16);
                }
                set
                {
                    _buffer.Int64PutLittleEndian(_offset + 16, value);
                }
            }


            public const int LowPriceId = 4;
            public const int LowPriceSinceVersion = 0;
            public const int LowPriceDeprecated = 0;
            public bool LowPriceInActingVersion()
            {
                return _actingVersion >= LowPriceSinceVersion;
            }

            public const int LowPriceOffset = 24;

            public static string LowPriceMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const long LowPriceNullValue = -9223372036854775808L;
            public const long LowPriceMinValue = -9223372036854775807L;
            public const long LowPriceMaxValue = 9223372036854775807L;

            public long LowPrice
            {
                get
                {
                    return _buffer.Int64GetLittleEndian(_offset + 24);
                }
                set
                {
                    _buffer.Int64PutLittleEndian(_offset + 24, value);
                }
            }


            public const int ClosePriceId = 5;
            public const int ClosePriceSinceVersion = 0;
            public const int ClosePriceDeprecated = 0;
            public bool ClosePriceInActingVersion()
            {
                return _actingVersion >= ClosePriceSinceVersion;
            }

            public const int ClosePriceOffset = 32;

            public static string ClosePriceMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const long ClosePriceNullValue = -9223372036854775808L;
            public const long ClosePriceMinValue = -9223372036854775807L;
            public const long ClosePriceMaxValue = 9223372036854775807L;

            public long ClosePrice
            {
                get
                {
                    return _buffer.Int64GetLittleEndian(_offset + 32);
                }
                set
                {
                    _buffer.Int64PutLittleEndian(_offset + 32, value);
                }
            }


            public const int VolumeId = 6;
            public const int VolumeSinceVersion = 0;
            public const int VolumeDeprecated = 0;
            public bool VolumeInActingVersion()
            {
                return _actingVersion >= VolumeSinceVersion;
            }

            public const int VolumeOffset = 40;

            public static string VolumeMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const byte VolumeNullValue = (byte)255;
            public const byte VolumeMinValue = (byte)0;
            public const byte VolumeMaxValue = (byte)254;

            public const int VolumeLength = 16;

            public byte GetVolume(int index)
            {
                if ((uint) index >= 16)
                {
                    ThrowHelper.ThrowIndexOutOfRangeException(index);
                }

                return _buffer.Uint8Get(_offset + 40 + (index * 1));
            }

            public void SetVolume(int index, byte value)
            {
                if ((uint) index >= 16)
                {
                    ThrowHelper.ThrowIndexOutOfRangeException(index);
                }

                _buffer.Uint8Put(_offset + 40 + (index * 1), value);
            }

            public ReadOnlySpan<byte> Volume
            {
                get
                {
                    return _buffer.AsReadOnlySpan<byte>(_offset + 40, VolumeLength);
                }
                set
                {
                    value.CopyTo(_buffer.AsSpan<byte>(_offset + 40, VolumeLength));
                }
            }

            public Span<byte> VolumeAsSpan()
            {
                return _buffer.AsSpan<byte>(_offset + 40, VolumeLength);
            }

            public const int CloseTimeId = 7;
            public const int CloseTimeSinceVersion = 0;
            public const int CloseTimeDeprecated = 0;
            public bool CloseTimeInActingVersion()
            {
                return _actingVersion >= CloseTimeSinceVersion;
            }

            public const int CloseTimeOffset = 56;

            public static string CloseTimeMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const long CloseTimeNullValue = -9223372036854775808L;
            public const long CloseTimeMinValue = -9223372036854775807L;
            public const long CloseTimeMaxValue = 9223372036854775807L;

            public long CloseTime
            {
                get
                {
                    return _buffer.Int64GetLittleEndian(_offset + 56);
                }
                set
                {
                    _buffer.Int64PutLittleEndian(_offset + 56, value);
                }
            }


            public const int QuoteVolumeId = 8;
            public const int QuoteVolumeSinceVersion = 0;
            public const int QuoteVolumeDeprecated = 0;
            public bool QuoteVolumeInActingVersion()
            {
                return _actingVersion >= QuoteVolumeSinceVersion;
            }

            public const int QuoteVolumeOffset = 64;

            public static string QuoteVolumeMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const byte QuoteVolumeNullValue = (byte)255;
            public const byte QuoteVolumeMinValue = (byte)0;
            public const byte QuoteVolumeMaxValue = (byte)254;

            public const int QuoteVolumeLength = 16;

            public byte GetQuoteVolume(int index)
            {
                if ((uint) index >= 16)
                {
                    ThrowHelper.ThrowIndexOutOfRangeException(index);
                }

                return _buffer.Uint8Get(_offset + 64 + (index * 1));
            }

            public void SetQuoteVolume(int index, byte value)
            {
                if ((uint) index >= 16)
                {
                    ThrowHelper.ThrowIndexOutOfRangeException(index);
                }

                _buffer.Uint8Put(_offset + 64 + (index * 1), value);
            }

            public ReadOnlySpan<byte> QuoteVolume
            {
                get
                {
                    return _buffer.AsReadOnlySpan<byte>(_offset + 64, QuoteVolumeLength);
                }
                set
                {
                    value.CopyTo(_buffer.AsSpan<byte>(_offset + 64, QuoteVolumeLength));
                }
            }

            public Span<byte> QuoteVolumeAsSpan()
            {
                return _buffer.AsSpan<byte>(_offset + 64, QuoteVolumeLength);
            }

            public const int NumTradesId = 9;
            public const int NumTradesSinceVersion = 0;
            public const int NumTradesDeprecated = 0;
            public bool NumTradesInActingVersion()
            {
                return _actingVersion >= NumTradesSinceVersion;
            }

            public const int NumTradesOffset = 80;

            public static string NumTradesMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const long NumTradesNullValue = -9223372036854775808L;
            public const long NumTradesMinValue = -9223372036854775807L;
            public const long NumTradesMaxValue = 9223372036854775807L;

            public long NumTrades
            {
                get
                {
                    return _buffer.Int64GetLittleEndian(_offset + 80);
                }
                set
                {
                    _buffer.Int64PutLittleEndian(_offset + 80, value);
                }
            }


            public const int TakerBuyBaseVolumeId = 10;
            public const int TakerBuyBaseVolumeSinceVersion = 0;
            public const int TakerBuyBaseVolumeDeprecated = 0;
            public bool TakerBuyBaseVolumeInActingVersion()
            {
                return _actingVersion >= TakerBuyBaseVolumeSinceVersion;
            }

            public const int TakerBuyBaseVolumeOffset = 88;

            public static string TakerBuyBaseVolumeMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const byte TakerBuyBaseVolumeNullValue = (byte)255;
            public const byte TakerBuyBaseVolumeMinValue = (byte)0;
            public const byte TakerBuyBaseVolumeMaxValue = (byte)254;

            public const int TakerBuyBaseVolumeLength = 16;

            public byte GetTakerBuyBaseVolume(int index)
            {
                if ((uint) index >= 16)
                {
                    ThrowHelper.ThrowIndexOutOfRangeException(index);
                }

                return _buffer.Uint8Get(_offset + 88 + (index * 1));
            }

            public void SetTakerBuyBaseVolume(int index, byte value)
            {
                if ((uint) index >= 16)
                {
                    ThrowHelper.ThrowIndexOutOfRangeException(index);
                }

                _buffer.Uint8Put(_offset + 88 + (index * 1), value);
            }

            public ReadOnlySpan<byte> TakerBuyBaseVolume
            {
                get
                {
                    return _buffer.AsReadOnlySpan<byte>(_offset + 88, TakerBuyBaseVolumeLength);
                }
                set
                {
                    value.CopyTo(_buffer.AsSpan<byte>(_offset + 88, TakerBuyBaseVolumeLength));
                }
            }

            public Span<byte> TakerBuyBaseVolumeAsSpan()
            {
                return _buffer.AsSpan<byte>(_offset + 88, TakerBuyBaseVolumeLength);
            }

            public const int TakerBuyQuoteVolumeId = 11;
            public const int TakerBuyQuoteVolumeSinceVersion = 0;
            public const int TakerBuyQuoteVolumeDeprecated = 0;
            public bool TakerBuyQuoteVolumeInActingVersion()
            {
                return _actingVersion >= TakerBuyQuoteVolumeSinceVersion;
            }

            public const int TakerBuyQuoteVolumeOffset = 104;

            public static string TakerBuyQuoteVolumeMetaAttribute(MetaAttribute metaAttribute)
            {
                switch (metaAttribute)
                {
                    case MetaAttribute.Epoch: return "";
                    case MetaAttribute.TimeUnit: return "";
                    case MetaAttribute.SemanticType: return "";
                    case MetaAttribute.Presence: return "required";
                }

                return "";
            }

            public const byte TakerBuyQuoteVolumeNullValue = (byte)255;
            public const byte TakerBuyQuoteVolumeMinValue = (byte)0;
            public const byte TakerBuyQuoteVolumeMaxValue = (byte)254;

            public const int TakerBuyQuoteVolumeLength = 16;

            public byte GetTakerBuyQuoteVolume(int index)
            {
                if ((uint) index >= 16)
                {
                    ThrowHelper.ThrowIndexOutOfRangeException(index);
                }

                return _buffer.Uint8Get(_offset + 104 + (index * 1));
            }

            public void SetTakerBuyQuoteVolume(int index, byte value)
            {
                if ((uint) index >= 16)
                {
                    ThrowHelper.ThrowIndexOutOfRangeException(index);
                }

                _buffer.Uint8Put(_offset + 104 + (index * 1), value);
            }

            public ReadOnlySpan<byte> TakerBuyQuoteVolume
            {
                get
                {
                    return _buffer.AsReadOnlySpan<byte>(_offset + 104, TakerBuyQuoteVolumeLength);
                }
                set
                {
                    value.CopyTo(_buffer.AsSpan<byte>(_offset + 104, TakerBuyQuoteVolumeLength));
                }
            }

            public Span<byte> TakerBuyQuoteVolumeAsSpan()
            {
                return _buffer.AsSpan<byte>(_offset + 104, TakerBuyQuoteVolumeLength);
            }

                internal void BuildString(StringBuilder builder)
                {
                    if (_buffer == null)
                    {
                        return;
                    }

                    builder.Append('(');
                    builder.Append("OpenTime=");
                    builder.Append(this.OpenTime);
                    builder.Append('|');
                    builder.Append("OpenPrice=");
                    builder.Append(this.OpenPrice);
                    builder.Append('|');
                    builder.Append("HighPrice=");
                    builder.Append(this.HighPrice);
                    builder.Append('|');
                    builder.Append("LowPrice=");
                    builder.Append(this.LowPrice);
                    builder.Append('|');
                    builder.Append("ClosePrice=");
                    builder.Append(this.ClosePrice);
                    builder.Append('|');
                    builder.Append("Volume=");
                    builder.Append('[');
                    for (int i = 0; i < VolumeLength; ++i)
                    {
                        if (i > 0)
                        {
                            builder.Append(',');
                        }
                        builder.Append(GetVolume(i));
                    }
                    builder.Append(']');
                    builder.Append('|');
                    builder.Append("CloseTime=");
                    builder.Append(this.CloseTime);
                    builder.Append('|');
                    builder.Append("QuoteVolume=");
                    builder.Append('[');
                    for (int i = 0; i < QuoteVolumeLength; ++i)
                    {
                        if (i > 0)
                        {
                            builder.Append(',');
                        }
                        builder.Append(GetQuoteVolume(i));
                    }
                    builder.Append(']');
                    builder.Append('|');
                    builder.Append("NumTrades=");
                    builder.Append(this.NumTrades);
                    builder.Append('|');
                    builder.Append("TakerBuyBaseVolume=");
                    builder.Append('[');
                    for (int i = 0; i < TakerBuyBaseVolumeLength; ++i)
                    {
                        if (i > 0)
                        {
                            builder.Append(',');
                        }
                        builder.Append(GetTakerBuyBaseVolume(i));
                    }
                    builder.Append(']');
                    builder.Append('|');
                    builder.Append("TakerBuyQuoteVolume=");
                    builder.Append('[');
                    for (int i = 0; i < TakerBuyQuoteVolumeLength; ++i)
                    {
                        if (i > 0)
                        {
                            builder.Append(',');
                        }
                        builder.Append(GetTakerBuyQuoteVolume(i));
                    }
                    builder.Append(']');
                    builder.Append(')');

                }
        }

        public override string ToString()
        {
            var sb = new StringBuilder(100);
            var m = new KlinesResponse();
            m.WrapForDecode(_buffer, _offset, _actingBlockLength, _actingVersion);
            m.BuildString(sb);
            return sb.ToString();
        }

        internal void BuildString(StringBuilder builder)
        {
            if (_buffer == null)
            {
                throw new ArgumentNullException("_buffer");
            }

            int originalLimit = this.Limit;
            this.Limit = _offset + _actingBlockLength;
            builder.Append("[KlinesResponse](sbeTemplateId=");
            builder.Append(KlinesResponse.TemplateId);
            builder.Append("|sbeSchemaId=");
            builder.Append(KlinesResponse.SchemaId);
            builder.Append("|sbeSchemaVersion=");
            if (_parentMessage._actingVersion != KlinesResponse.SchemaVersion)
            {
                builder.Append(_parentMessage._actingVersion);
                builder.Append('/');
            }
            builder.Append(KlinesResponse.SchemaVersion);
            builder.Append("|sbeBlockLength=");
            if (_actingBlockLength != KlinesResponse.BlockLength)
            {
                builder.Append(_actingBlockLength);
                builder.Append('/');
            }
            builder.Append(KlinesResponse.BlockLength);
            builder.Append("):");

            builder.Append("PriceExponent=");
            builder.Append(this.PriceExponent);
            builder.Append('|');
            builder.Append("QtyExponent=");
            builder.Append(this.QtyExponent);
            builder.Append('|');
            builder.Append("Klines=[");
            var klines = this.Klines;
            if (klines.Count > 0)
            {
                var first = true;
                while (klines.HasNext)
                {
                    if (!first)
                    {
                        builder.Append(',');
                    }
                    first = false;
                    klines.Next().BuildString(builder);
                }
            }
            builder.Append("]");

            this.Limit = originalLimit;

        }
    }
}
