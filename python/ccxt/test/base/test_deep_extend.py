import os
import sys

root = os.path.dirname(os.path.dirname(os.path.dirname(os.path.dirname(os.path.abspath(__file__)))))
sys.path.append(root)

# ----------------------------------------------------------------------------

# PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
# https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

# ----------------------------------------------------------------------------
# -*- coding: utf-8 -*-

import ccxt.async_support as ccxt  # noqa: F402
from ccxt.test.exchange.base import test_shared_methods  # noqa E402

def test_deep_extend():
    exchange = ccxt.Exchange({
        'id': 'sampleexchange',
    })
    obj1 = {
        'a': 1,
        'b': [1, 2, 3],
        'c': [{
    'test1': 1,
    'test2': 1,
}],
        'd': None,
        'e': 'not_undefined',
        'sub': {
            'a': 1,
            'b': [1, 2],
            'c': [{
    'test1': 1,
    'test2': 2,
}],
            'd': None,
            'e': 'not_undefined',
            'other1': 'x',
        },
        'other1': 'x',
    }
    obj2 = {
        'a': 2,
        'b': [3, 4],
        'c': [{
    'test1': 2,
    'test3': 3,
}],
        'd': 'not_undefined',
        'e': None,
        'sub': {
            'a': 2,
            'b': [3, 4],
            'c': [{
    'test1': 2,
    'test3': 3,
}],
            'd': 'not_undefined',
            'e': None,
            'other2': 'y',
        },
        'other2': 'y',
    }
    # deepExtend
    deep_extended = exchange.deep_extend(obj1, obj2)
    compare_to = {
        'a': 2,
        'b': [3, 4],
        'c': [{
    'test1': 2,
    'test3': 3,
}],
        'd': 'not_undefined',
        'e': None,
        'sub': {
            'a': 2,
            'b': [3, 4],
            'c': [{
    'test1': 2,
    'test3': 3,
}],
            'd': 'not_undefined',
            'e': None,
            'other1': 'x',
            'other2': 'y',
        },
        'other1': 'x',
        'other2': 'y',
    }
    # todo: results are different across langs.
    # to avoid delay to this PR, I comment out this now, but will return to this after this PR merged
    test_shared_methods.assert_deep_equal(exchange, None, 'testDeepExtend', deep_extended, compare_to)
