package base

import ccxt "github.com/ccxt/ccxt/go/v4"

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

func TestDeepExtend() {
	exchange := ccxt.NewExchange().(*ccxt.Exchange)
	exchange.DerivedExchange = exchange
	exchange.InitParent(map[string]interface{}{
		"id": "sampleexchange",
	}, map[string]interface{}{}, exchange)
	var obj1 map[string]interface{} = map[string]interface{}{
		"a": 1,
		"b": []interface{}{1, 2, 3},
		"c": []interface{}{map[string]interface{}{
			"test1": 1,
			"test2": 1,
		}},
		"d": nil,
		"e": "not_undefined",
		"sub": map[string]interface{}{
			"a": 1,
			"b": []interface{}{1, 2},
			"c": []interface{}{map[string]interface{}{
				"test1": 1,
				"test2": 2,
			}},
			"d":      nil,
			"e":      "not_undefined",
			"other1": "x",
		},
		"other1": "x",
	}
	var obj2 map[string]interface{} = map[string]interface{}{
		"a": 2,
		"b": []interface{}{3, 4},
		"c": []interface{}{map[string]interface{}{
			"test1": 2,
			"test3": 3,
		}},
		"d": "not_undefined",
		"e": nil,
		"sub": map[string]interface{}{
			"a": 2,
			"b": []interface{}{3, 4},
			"c": []interface{}{map[string]interface{}{
				"test1": 2,
				"test3": 3,
			}},
			"d":      "not_undefined",
			"e":      nil,
			"other2": "y",
		},
		"other2": "y",
	}
	// deepExtend
	var deepExtended interface{} = exchange.DeepExtend(obj1, obj2)
	var compareTo map[string]interface{} = map[string]interface{}{
		"a": 2,
		"b": []interface{}{3, 4},
		"c": []interface{}{map[string]interface{}{
			"test1": 2,
			"test3": 3,
		}},
		"d": "not_undefined",
		"e": nil,
		"sub": map[string]interface{}{
			"a": 2,
			"b": []interface{}{3, 4},
			"c": []interface{}{map[string]interface{}{
				"test1": 2,
				"test3": 3,
			}},
			"d":      "not_undefined",
			"e":      nil,
			"other1": "x",
			"other2": "y",
		},
		"other1": "x",
		"other2": "y",
	}
	// todo: results are different across langs.
	// to avoid delay to this PR, I comment out this now, but will return to this after this PR merged
	AssertDeepEqual(exchange, nil, "testDeepExtend", deepExtended, compareTo)
}
