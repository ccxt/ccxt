package base
import ccxt "github.com/ccxt/ccxt/go/v4"

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

func TestDecimalToPrecision()  {
    exchange := ccxt.NewExchange().(*ccxt.Exchange); exchange.DerivedExchange = exchange; exchange.InitParent(map[string]interface{} {
        "id": "regirock",
    }, map[string]interface{}{}, exchange)
    // ----------------------------------------------------------------------------
    // Truncate To N Digits After Dot
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456000", ccxt.TRUNCATE, 100, ccxt.DECIMAL_PLACES), "12.3456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.TRUNCATE, 100, ccxt.DECIMAL_PLACES), "12.3456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.TRUNCATE, 4, ccxt.DECIMAL_PLACES), "12.3456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.TRUNCATE, 3, ccxt.DECIMAL_PLACES), "12.345"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.TRUNCATE, 2, ccxt.DECIMAL_PLACES), "12.34"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.TRUNCATE, 1, ccxt.DECIMAL_PLACES), "12.3"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.TRUNCATE, 0, ccxt.DECIMAL_PLACES), "12"))
    // ['12.3456',    ccxt.TRUNCATE,  -1, ccxt.DECIMAL_PLACES,  '10'],   // not yet supported
    // ['123.456',    ccxt.TRUNCATE,  -2, ccxt.DECIMAL_PLACES,  '120'],  // not yet supported
    // ['123.456',    ccxt.TRUNCATE,  -3, ccxt.DECIMAL_PLACES,  '100'],  // not yet supported
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0000001", ccxt.TRUNCATE, 8, ccxt.DECIMAL_PLACES), "0.0000001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00000001", ccxt.TRUNCATE, 8, ccxt.DECIMAL_PLACES), "0.00000001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000000000", ccxt.TRUNCATE, 9, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "0.000000000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000000001", ccxt.TRUNCATE, 9, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "0.000000001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.TRUNCATE, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.456", ccxt.TRUNCATE, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "120"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.456", ccxt.TRUNCATE, ccxt.OpNeg(2), ccxt.DECIMAL_PLACES), "100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("9.99999", ccxt.TRUNCATE, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("99.9999", ccxt.TRUNCATE, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "90"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("99.9999", ccxt.TRUNCATE, ccxt.OpNeg(2), ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0", ccxt.TRUNCATE, 0, ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.9", ccxt.TRUNCATE, 0, ccxt.DECIMAL_PLACES), "0"))
    // ----------------------------------------------------------------------------
    // Truncate To N Significant Digits
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456700", ccxt.TRUNCATE, 100, ccxt.SIGNIFICANT_DIGITS), "0.0001234567"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0001234567", ccxt.TRUNCATE, 100, ccxt.SIGNIFICANT_DIGITS), "0.0001234567"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0001234567", ccxt.TRUNCATE, 7, ccxt.SIGNIFICANT_DIGITS), "0.0001234567"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456", ccxt.TRUNCATE, 6, ccxt.SIGNIFICANT_DIGITS), "0.000123456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456", ccxt.TRUNCATE, 5, ccxt.SIGNIFICANT_DIGITS), "0.00012345"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456", ccxt.TRUNCATE, 2, ccxt.SIGNIFICANT_DIGITS), "0.00012"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456", ccxt.TRUNCATE, 1, ccxt.SIGNIFICANT_DIGITS), "0.0001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 10, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "123.0000987"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 8, ccxt.SIGNIFICANT_DIGITS), "123.00009"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 7, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "123.0000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 6, ccxt.SIGNIFICANT_DIGITS), "123"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 5, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "123.00"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 4, ccxt.SIGNIFICANT_DIGITS), "123"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 4, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "123.0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 3, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "123"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 2, ccxt.SIGNIFICANT_DIGITS), "120"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 1, ccxt.SIGNIFICANT_DIGITS), "100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.TRUNCATE, 1, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1234", ccxt.TRUNCATE, 5, ccxt.SIGNIFICANT_DIGITS), "1234"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1234", ccxt.TRUNCATE, 5, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "1234.0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1234", ccxt.TRUNCATE, 4, ccxt.SIGNIFICANT_DIGITS), "1234"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1234", ccxt.TRUNCATE, 4, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "1234"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1234.69", ccxt.TRUNCATE, 0, ccxt.SIGNIFICANT_DIGITS), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1234.69", ccxt.TRUNCATE, 0, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "0"))
    // ----------------------------------------------------------------------------
    // Round To N Digits After Dot
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456000", ccxt.ROUND, 100, ccxt.DECIMAL_PLACES), "12.3456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.ROUND, 100, ccxt.DECIMAL_PLACES), "12.3456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.ROUND, 4, ccxt.DECIMAL_PLACES), "12.3456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.ROUND, 3, ccxt.DECIMAL_PLACES), "12.346"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.ROUND, 2, ccxt.DECIMAL_PLACES), "12.35"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.ROUND, 1, ccxt.DECIMAL_PLACES), "12.3"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "12"))
    // todo:
    // ['9.999',     ccxt.ROUND,   3, ccxt.DECIMAL_PLACES,    ccxt.NO_PADDING,  '9.999'],
    // ['9.999',     ccxt.ROUND,   2, ccxt.DECIMAL_PLACES,    ccxt.NO_PADDING,  '10'],
    // ['9.999',     ccxt.ROUND,   2, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO,  '10.00'],
    // ['99.999',    ccxt.ROUND,   2, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO,  '100.00'],
    // ['-99.999',    ccxt.ROUND,   2, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO, '-100.00'],
    // ['12.3456',    ccxt.ROUND,  -1, ccxt.DECIMAL_PLACES,    ccxt.NO_PADDING,  '10'],  // not yet supported
    // ['123.456',    ccxt.ROUND,  -1, ccxt.DECIMAL_PLACES,    ccxt.NO_PADDING,  '120'],  // not yet supported
    // ['123.456',    ccxt.ROUND,  -2, ccxt.DECIMAL_PLACES,    ccxt.NO_PADDING,  '100'],  // not yet supported
    // a problematic case in PHP
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("10000", ccxt.ROUND, 6, ccxt.DECIMAL_PLACES), "10000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00003186", ccxt.ROUND, 8, ccxt.DECIMAL_PLACES), "0.00003186"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.3456", ccxt.ROUND, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.456", ccxt.ROUND, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "120"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.456", ccxt.ROUND, ccxt.OpNeg(2), ccxt.DECIMAL_PLACES), "100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("9.99999", ccxt.ROUND, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("99.9999", ccxt.ROUND, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("99.9999", ccxt.ROUND, ccxt.OpNeg(2), ccxt.DECIMAL_PLACES), "100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("9.999", ccxt.ROUND, 3, ccxt.DECIMAL_PLACES), "9.999"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("9.999", ccxt.ROUND, 2, ccxt.DECIMAL_PLACES), "10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("9.999", ccxt.ROUND, 2, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "10.00"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("99.999", ccxt.ROUND, 2, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "100.00"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-99.999", ccxt.ROUND, 2, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "-100.00"))
    // ----------------------------------------------------------------------------
    // Round To N Significant Digits
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456700", ccxt.ROUND, 100, ccxt.SIGNIFICANT_DIGITS), "0.0001234567"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0001234567", ccxt.ROUND, 100, ccxt.SIGNIFICANT_DIGITS), "0.0001234567"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0001234567", ccxt.ROUND, 7, ccxt.SIGNIFICANT_DIGITS), "0.0001234567"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456", ccxt.ROUND, 6, ccxt.SIGNIFICANT_DIGITS), "0.000123456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456", ccxt.ROUND, 5, ccxt.SIGNIFICANT_DIGITS), "0.00012346"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456", ccxt.ROUND, 4, ccxt.SIGNIFICANT_DIGITS), "0.0001235"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00012", ccxt.ROUND, 2, ccxt.SIGNIFICANT_DIGITS), "0.00012"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0001", ccxt.ROUND, 1, ccxt.SIGNIFICANT_DIGITS), "0.0001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.ROUND, 7, ccxt.SIGNIFICANT_DIGITS), "123.0001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.0000987654", ccxt.ROUND, 6, ccxt.SIGNIFICANT_DIGITS), "123"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00098765", ccxt.ROUND, 2, ccxt.SIGNIFICANT_DIGITS), "0.00099"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00098765", ccxt.ROUND, 2, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "0.00099"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00098765", ccxt.ROUND, 1, ccxt.SIGNIFICANT_DIGITS), "0.001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00098765", ccxt.ROUND, 10, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "0.0009876500000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.098765", ccxt.ROUND, 1, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "0.1"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0", ccxt.ROUND, 0, ccxt.SIGNIFICANT_DIGITS), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.123", ccxt.ROUND, 0, ccxt.SIGNIFICANT_DIGITS), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00000044", ccxt.ROUND, 5, ccxt.SIGNIFICANT_DIGITS), "0.00000044"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.123456", ccxt.ROUND, 5, ccxt.SIGNIFICANT_DIGITS), "0.12346"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.123456", ccxt.ROUND, 6, ccxt.SIGNIFICANT_DIGITS), "0.123456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.123456", ccxt.ROUND, 7, ccxt.SIGNIFICANT_DIGITS), "0.123456"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.234567", ccxt.ROUND, 5, ccxt.SIGNIFICANT_DIGITS), "1.2346"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.234567", ccxt.ROUND, 6, ccxt.SIGNIFICANT_DIGITS), "1.23457"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.234567", ccxt.ROUND, 7, ccxt.SIGNIFICANT_DIGITS), "1.234567"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.34567", ccxt.ROUND, 5, ccxt.SIGNIFICANT_DIGITS), "12.346"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.34567", ccxt.ROUND, 6, ccxt.SIGNIFICANT_DIGITS), "12.3457"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12.34567", ccxt.ROUND, 7, ccxt.SIGNIFICANT_DIGITS), "12.34567"))
    // above 1.0
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1114.5", ccxt.ROUND, 3, ccxt.SIGNIFICANT_DIGITS), "1110"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1115.5", ccxt.ROUND, 3, ccxt.SIGNIFICANT_DIGITS), "1120"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1114.5", ccxt.ROUND, 4, ccxt.SIGNIFICANT_DIGITS), "1115"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1114.5", ccxt.ROUND, 5, ccxt.SIGNIFICANT_DIGITS), "1114.5"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1115.5", ccxt.ROUND, 5, ccxt.SIGNIFICANT_DIGITS), "1115.5"))
    // ----------------------------------------------------------------------------
    // Round To Tick Size
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456700", ccxt.ROUND, 0.00012, ccxt.TICK_SIZE), "0.00012"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0001234567", ccxt.ROUND, 0.00013, ccxt.TICK_SIZE), "0.00013"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0001234567", ccxt.TRUNCATE, 0.00013, ccxt.TICK_SIZE), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("101.000123456700", ccxt.ROUND, 100, ccxt.TICK_SIZE), "100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456700", ccxt.ROUND, 100, ccxt.TICK_SIZE), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("165", ccxt.TRUNCATE, 110, ccxt.TICK_SIZE), "110"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("3210", ccxt.TRUNCATE, 1110, ccxt.TICK_SIZE), "2220"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("165", ccxt.ROUND, 110, ccxt.TICK_SIZE), "220"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456789", ccxt.ROUND, 1.2e-7, ccxt.TICK_SIZE), "0.00012348"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456789", ccxt.TRUNCATE, 1.2e-7, ccxt.TICK_SIZE), "0.00012336"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000273398", ccxt.ROUND, 1e-7, ccxt.TICK_SIZE), "0.0002734"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00005714", ccxt.TRUNCATE, 1e-8, ccxt.TICK_SIZE), "0.00005714"))
    // this line causes problems in JS, fix with ccxt.Precise
    // assert (exchange.decimalToPrecision ('0.0000571495257361', ccxt.TRUNCATE, 0.00000001, ccxt.TICK_SIZE) === '0.00005714');
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.01", ccxt.ROUND, 0.0001, ccxt.TICK_SIZE, ccxt.PAD_WITH_ZERO), "0.0100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.01", ccxt.TRUNCATE, 0.0001, ccxt.TICK_SIZE, ccxt.PAD_WITH_ZERO), "0.0100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.000123456789", ccxt.ROUND, 1.2e-7, ccxt.TICK_SIZE), "-0.00012348"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.000123456789", ccxt.TRUNCATE, 1.2e-7, ccxt.TICK_SIZE), "-0.00012336"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-165", ccxt.TRUNCATE, 110, ccxt.TICK_SIZE), "-110"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-165", ccxt.ROUND, 110, ccxt.TICK_SIZE), "-220"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-1650", ccxt.TRUNCATE, 1100, ccxt.TICK_SIZE), "-1100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-1650", ccxt.ROUND, 1100, ccxt.TICK_SIZE), "-2200"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0006", ccxt.TRUNCATE, 0.0001, ccxt.TICK_SIZE), "0.0006"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.0006", ccxt.TRUNCATE, 0.0001, ccxt.TICK_SIZE), "-0.0006"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.6", ccxt.TRUNCATE, 0.2, ccxt.TICK_SIZE), "0.6"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.6", ccxt.TRUNCATE, 0.2, ccxt.TICK_SIZE), "-0.6"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.2", ccxt.ROUND, 0.4, ccxt.TICK_SIZE), "1.2"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-1.2", ccxt.ROUND, 0.4, ccxt.TICK_SIZE), "-1.2"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.2", ccxt.ROUND, 0.02, ccxt.TICK_SIZE), "1.2"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-1.2", ccxt.ROUND, 0.02, ccxt.TICK_SIZE), "-1.2"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("44", ccxt.ROUND, 4.4, ccxt.TICK_SIZE), "44"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-44", ccxt.ROUND, 4.4, ccxt.TICK_SIZE), "-44"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("44.00000001", ccxt.ROUND, 4.4, ccxt.TICK_SIZE), "44"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-44.00000001", ccxt.ROUND, 4.4, ccxt.TICK_SIZE), "-44"))
    // https://github.com/ccxt/ccxt/issues/6731
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("20", ccxt.TRUNCATE, 1e-8, ccxt.TICK_SIZE), "20"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.000123456789", ccxt.TRUNCATE, 1e-8, ccxt.TICK_SIZE), "0.00012345"))
    // ----------------------------------------------------------------------------
    // Negative Numbers
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.123456", ccxt.TRUNCATE, 5, ccxt.DECIMAL_PLACES), "-0.12345"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.123456", ccxt.ROUND, 5, ccxt.DECIMAL_PLACES), "-0.12346"))
    // ----------------------------------------------------------------------------
    // without dot / trailing dot
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123", ccxt.TRUNCATE, 0), "123"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123", ccxt.TRUNCATE, 5, ccxt.DECIMAL_PLACES), "123"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123", ccxt.TRUNCATE, 5, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "123.00000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.", ccxt.TRUNCATE, 0, ccxt.DECIMAL_PLACES), "123"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123.", ccxt.TRUNCATE, 5, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "123.00000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.", ccxt.TRUNCATE, 0), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.", ccxt.TRUNCATE, 5, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "0.00000"))
    // ----------------------------------------------------------------------------
    // rounding for equidistant digits
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.44", ccxt.ROUND, 1, ccxt.DECIMAL_PLACES), "1.4"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.45", ccxt.ROUND, 1, ccxt.DECIMAL_PLACES), "1.5"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.45", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "1")) // not 2
    // ----------------------------------------------------------------------------
    // negative precision only implemented so far in python
    // pretty useless for decimal applications as anything |x| < 5 === 0
    // ccxt.NO_PADDING and ccxt.PAD_WITH_ZERO are ignored
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("5", ccxt.ROUND, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("4.999", ccxt.ROUND, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0431531423", ccxt.ROUND, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-69.3", ccxt.ROUND, ccxt.OpNeg(1), ccxt.DECIMAL_PLACES), "-70"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("5001", ccxt.ROUND, ccxt.OpNeg(4), ccxt.DECIMAL_PLACES), "10000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("4999.999", ccxt.ROUND, ccxt.OpNeg(4), ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("69.3", ccxt.TRUNCATE, ccxt.OpNeg(2), ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-69.3", ccxt.TRUNCATE, ccxt.OpNeg(2), ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("69.3", ccxt.TRUNCATE, ccxt.OpNeg(1), ccxt.SIGNIFICANT_DIGITS), "60"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-69.3", ccxt.TRUNCATE, ccxt.OpNeg(1), ccxt.SIGNIFICANT_DIGITS), "-60"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("69.3", ccxt.TRUNCATE, ccxt.OpNeg(2), ccxt.SIGNIFICANT_DIGITS), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1602000000000000000000", ccxt.TRUNCATE, 3, ccxt.SIGNIFICANT_DIGITS), "1600000000000000000000"))
    // ----------------------------------------------------------------------------
    // stringified precision
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.000123456789", ccxt.ROUND, "0.00000012", ccxt.TICK_SIZE), "-0.00012348"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.000123456789", ccxt.TRUNCATE, "0.00000012", ccxt.TICK_SIZE), "-0.00012336"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-165", ccxt.TRUNCATE, "110", ccxt.TICK_SIZE), "-110"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-165", ccxt.ROUND, "110", ccxt.TICK_SIZE), "-220"))
    // ----------------------------------------------------------------------------
    // testDecimalToPrecisionErrorHandling (todo)
    //
    // throws (() =>
    //     decimalToPrecision ('123456.789', ccxt.TRUNCATE, -2, ccxt.DECIMAL_PLACES),
    //         'negative precision is not yet supported')
    //
    // throws (() =>
    //     decimalToPrecision ('foo'),
    //         "invalid number (contains an illegal character 'f')")
    //
    // throws (() =>
    //     decimalToPrecision ('0.01', ccxt.TRUNCATE, -1, ccxt.TICK_SIZE),
    //         "ccxt.TICK_SIZE cant be used with negative numPrecisionDigits")
    // ----------------------------------------------------------------------------
    // Additional Edge Cases
    // Zero handling variations
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0", ccxt.TRUNCATE, 2, ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00", ccxt.ROUND, 3, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "0.000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.0", ccxt.TRUNCATE, 2, ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-0.00", ccxt.ROUND, 1, ccxt.DECIMAL_PLACES), "0"))
    // Very small numbers close to zero
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0000000001", ccxt.TRUNCATE, 8, ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0000000001", ccxt.ROUND, 8, ccxt.DECIMAL_PLACES), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.0000000001", ccxt.TRUNCATE, 10, ccxt.DECIMAL_PLACES), "0.0000000001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00000000009", ccxt.ROUND, 10, ccxt.DECIMAL_PLACES), "0.0000000001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.00000000015", ccxt.ROUND, 10, ccxt.DECIMAL_PLACES), "0.0000000002"))
    // Very large numbers
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("99999999999999.99999", ccxt.TRUNCATE, 2, ccxt.DECIMAL_PLACES), "99999999999999.99"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("99999999999999.99999", ccxt.ROUND, 2, ccxt.DECIMAL_PLACES), "100000000000000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456789012345", ccxt.TRUNCATE, 3, ccxt.SIGNIFICANT_DIGITS), "123000000000000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456789012345", ccxt.ROUND, 3, ccxt.SIGNIFICANT_DIGITS), "123000000000000"))
    // Numbers with leading zeros
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("000123.456", ccxt.TRUNCATE, 2, ccxt.DECIMAL_PLACES), "123.45"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("000123.456", ccxt.ROUND, 2, ccxt.DECIMAL_PLACES), "123.46"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0000.123", ccxt.TRUNCATE, 2, ccxt.DECIMAL_PLACES), "0.12"))
    // Boundary rounding cases (exactly at 0.5)
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.5", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "2"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("2.5", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "3"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-1.5", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "-2"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-2.5", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "-3"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.25", ccxt.ROUND, 1, ccxt.DECIMAL_PLACES), "1.3"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.35", ccxt.ROUND, 1, ccxt.DECIMAL_PLACES), "1.4"))
    // Carry-over in rounding (cascading effects)
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("9.999999", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("99.999999", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "100"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("999.999999", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "1000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("9.999999", ccxt.ROUND, 1, ccxt.DECIMAL_PLACES), "10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("9.999999", ccxt.ROUND, 2, ccxt.DECIMAL_PLACES), "10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-9.999999", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "-10"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("-99.999999", ccxt.ROUND, 0, ccxt.DECIMAL_PLACES), "-100"))
    // Edge cases for ccxt.TICK_SIZE with very small ticks
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.2345", ccxt.ROUND, 0.0001, ccxt.TICK_SIZE), "1.2345"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.23456", ccxt.ROUND, 0.0001, ccxt.TICK_SIZE), "1.2346"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.23454", ccxt.ROUND, 0.0001, ccxt.TICK_SIZE), "1.2345"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.23444", ccxt.TRUNCATE, 0.0001, ccxt.TICK_SIZE), "1.2344"))
    // ccxt.TICK_SIZE with numbers smaller than tick
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.05", ccxt.ROUND, 0.1, ccxt.TICK_SIZE), "0.1"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.04", ccxt.ROUND, 0.1, ccxt.TICK_SIZE), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.04", ccxt.TRUNCATE, 0.1, ccxt.TICK_SIZE), "0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.049999", ccxt.ROUND, 0.1, ccxt.TICK_SIZE), "0"))
    // ccxt.SIGNIFICANT_DIGITS edge cases
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("10000000", ccxt.TRUNCATE, 1, ccxt.SIGNIFICANT_DIGITS), "10000000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("10000001", ccxt.TRUNCATE, 1, ccxt.SIGNIFICANT_DIGITS), "10000000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("19999999", ccxt.TRUNCATE, 1, ccxt.SIGNIFICANT_DIGITS), "10000000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("19999999", ccxt.ROUND, 1, ccxt.SIGNIFICANT_DIGITS), "20000000"))
    // ccxt.Precision with ccxt.PAD_WITH_ZERO edge cases
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1", ccxt.TRUNCATE, 0, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "1"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.0", ccxt.TRUNCATE, 0, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "1"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1", ccxt.TRUNCATE, 3, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "1.000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.1", ccxt.TRUNCATE, 5, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "1.10000"))
    // Numbers that are exactly multiples of precision
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.2", ccxt.TRUNCATE, 0.1, ccxt.TICK_SIZE), "1.2"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.2", ccxt.ROUND, 0.1, ccxt.TICK_SIZE), "1.2"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12", ccxt.TRUNCATE, 4, ccxt.TICK_SIZE), "12"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("12", ccxt.ROUND, 4, ccxt.TICK_SIZE), "12"))
    // Very high precision values
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.123456789012345", ccxt.TRUNCATE, 15, ccxt.DECIMAL_PLACES), "1.123456789012345"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.123456789012345", ccxt.TRUNCATE, 10, ccxt.DECIMAL_PLACES), "1.123456789"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1.123456789012345", ccxt.TRUNCATE, 10, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "1.1234567890"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.123456789012345", ccxt.TRUNCATE, 15, ccxt.SIGNIFICANT_DIGITS), "0.123456789012345"))
    // Mixed large and small components
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1000000.000001", ccxt.TRUNCATE, 6, ccxt.DECIMAL_PLACES), "1000000.000001"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1000000.000001", ccxt.TRUNCATE, 5, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "1000000.00000"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("1000000.000001", ccxt.ROUND, 5, ccxt.DECIMAL_PLACES, ccxt.PAD_WITH_ZERO), "1000000.00000"))
    // Edge cases around 1.0 boundary for significant digits
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.999999", ccxt.ROUND, 1, ccxt.SIGNIFICANT_DIGITS), "1"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.999999", ccxt.ROUND, 2, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "1.0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.999999", ccxt.ROUND, 3, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "1.00"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.999949", ccxt.ROUND, 4, ccxt.SIGNIFICANT_DIGITS), "0.9999"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("0.999951", ccxt.ROUND, 4, ccxt.SIGNIFICANT_DIGITS, ccxt.PAD_WITH_ZERO), "1.000"))
    // ----------------------------------------------------------------------------
    // https://github.com/ccxt/ccxt/issues/11765
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456.12345678912", ccxt.TRUNCATE, 1e-8, ccxt.TICK_SIZE), "123456.12345678"))
    // todo: not sure about below
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456.12345674999", ccxt.TRUNCATE, 5e-8, ccxt.TICK_SIZE), "123456.1234567"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456.12345674999", ccxt.TRUNCATE, 5e-8, ccxt.TICK_SIZE, ccxt.PAD_WITH_ZERO), "123456.12345670"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456.12345675001", ccxt.TRUNCATE, 5e-8, ccxt.TICK_SIZE), "123456.12345675"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456.50000000001", ccxt.TRUNCATE, 0.5, ccxt.TICK_SIZE, ccxt.PAD_WITH_ZERO), "123456.5"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456.49999999999", ccxt.TRUNCATE, 0.5, ccxt.TICK_SIZE, ccxt.PAD_WITH_ZERO), "123456.0"))
    Assert(ccxt.IsEqual(exchange.DecimalToPrecision("123456.12345678912", ccxt.TRUNCATE, "0.00000001", ccxt.TICK_SIZE), "123456.12345678"))
}