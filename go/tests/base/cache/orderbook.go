package cache

// PLEASE DO NOT EDIT THIS FILE, IT IS GENERATED AND WILL BE OVERWRITTEN:
// https://github.com/ccxt/ccxt/blob/master/CONTRIBUTING.md#how-to-contribute-code

// --------------------------------------------------------------------------------------------------------------------

func TestWsOrderBook()  {
    var orderBookInput interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10}, []interface{}{9.1, 11}, []interface{}{8.2, 12}, []interface{}{7.3, 13}, []interface{}{6.4, 14}, []interface{}{4.5, 13}, []interface{}{4.5, 0}},
        "asks": []interface{}{[]interface{}{16.6, 10}, []interface{}{15.5, 11}, []interface{}{14.4, 12}, []interface{}{13.3, 13}, []interface{}{12.2, 14}, []interface{}{11.1, 13}},
        "timestamp": 1574827239000,
        "nonce": 69,
        "symbol": nil,
    }
    var orderBookTarget interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10}, []interface{}{9.1, 11}, []interface{}{8.2, 12}, []interface{}{7.3, 13}, []interface{}{6.4, 14}},
        "asks": []interface{}{[]interface{}{11.1, 13}, []interface{}{12.2, 14}, []interface{}{13.3, 13}, []interface{}{14.4, 12}, []interface{}{15.5, 11}, []interface{}{16.6, 10}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var storeBid interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10}, []interface{}{9.1, 11}, []interface{}{8.2, 12}, []interface{}{7.3, 13}, []interface{}{6.4, 14}, []interface{}{3, 4}},
        "asks": []interface{}{[]interface{}{11.1, 13}, []interface{}{12.2, 14}, []interface{}{13.3, 13}, []interface{}{14.4, 12}, []interface{}{15.5, 11}, []interface{}{16.6, 10}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var limitedOrderBookTarget interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10}, []interface{}{9.1, 11}, []interface{}{8.2, 12}, []interface{}{7.3, 13}, []interface{}{6.4, 14}},
        "asks": []interface{}{[]interface{}{11.1, 13}, []interface{}{12.2, 14}, []interface{}{13.3, 13}, []interface{}{14.4, 12}, []interface{}{15.5, 11}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var limitedDeletedOrderBookTarget interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10}, []interface{}{9.1, 11}, []interface{}{8.2, 12}, []interface{}{7.3, 13}, []interface{}{6.4, 14}},
        "asks": []interface{}{[]interface{}{11.1, 13}, []interface{}{12.2, 14}, []interface{}{13.3, 13}, []interface{}{14.4, 12}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var indexedOrderBookInput interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10, "1234"}, []interface{}{9.1, 11, "1235"}, []interface{}{8.2, 12, "1236"}, []interface{}{7.3, 13, "1237"}, []interface{}{6.4, 14, "1238"}, []interface{}{4.5, 13, "1239"}},
        "asks": []interface{}{[]interface{}{16.6, 10, "1240"}, []interface{}{15.5, 11, "1241"}, []interface{}{14.4, 12, "1242"}, []interface{}{13.3, 13, "1243"}, []interface{}{12.2, 14, "1244"}, []interface{}{11.1, 13, "1244"}},
        "timestamp": 1574827239000,
        "nonce": 69,
        "symbol": nil,
    }
    var indexedOrderBookTarget interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10, "1234"}, []interface{}{9.1, 11, "1235"}, []interface{}{8.2, 12, "1236"}, []interface{}{7.3, 13, "1237"}, []interface{}{6.4, 14, "1238"}, []interface{}{4.5, 13, "1239"}},
        "asks": []interface{}{[]interface{}{11.1, 13, "1244"}, []interface{}{13.3, 13, "1243"}, []interface{}{14.4, 12, "1242"}, []interface{}{15.5, 11, "1241"}, []interface{}{16.6, 10, "1240"}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var limitedIndexedOrderBookTarget interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10, "1234"}, []interface{}{9.1, 11, "1235"}, []interface{}{8.2, 12, "1236"}, []interface{}{7.3, 13, "1237"}, []interface{}{6.4, 14, "1238"}},
        "asks": []interface{}{[]interface{}{11.1, 13, "1244"}, []interface{}{13.3, 13, "1243"}, []interface{}{14.4, 12, "1242"}, []interface{}{15.5, 11, "1241"}, []interface{}{16.6, 10, "1240"}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    // const incrementalIndexedOrderBookTarget = {
    //     'bids': [ [ 10.0, 10, '1234' ], [ 9.1, 11, '1235' ], [ 8.2, 12, '1236' ], [ 7.3, 13, '1237' ], [ 6.4, 14, '1238' ], [ 4.5, 13, '1239' ] ],
    //     'asks': [ [ 11.1, 27, '1244' ], [ 13.3, 13, '1243' ], [ 14.4, 12, '1242' ], [ 15.5, 11, '1241' ], [ 16.6, 10, '1240' ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const incrementalIndexedOrderBookDeletedTarget = {
    //     'bids': [ [ 9.1, 11, '1235' ], [ 8.2, 12, '1236' ], [ 7.3, 13, '1237' ], [ 6.4, 14, '1238' ], [ 4.5, 13, '1239' ] ],
    //     'asks': [ [ 11.1, 27, '1244' ], [ 13.3, 13, '1243' ], [ 14.4, 12, '1242' ], [ 15.5, 11, '1241' ], [ 16.6, 10, '1240' ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const limitedIncrementalIndexedOrderBookTarget = {
    //     'bids': [ [ 10.0, 10, '1234' ], [ 9.1, 11, '1235' ], [ 8.2, 12, '1236' ], [ 7.3, 13, '1237' ], [ 6.4, 14, '1238' ] ],
    //     'asks': [ [ 11.1, 27, '1244' ], [ 13.3, 13, '1243' ], [ 14.4, 12, '1242' ], [ 15.5, 11, '1241' ], [ 16.6, 10, '1240' ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const storedIncrementalIndexedOrderBookTarget = {
    //     'bids': [ [ 10.0, 13, '1234' ], [ 9.1, 11, '1235' ], [ 8.2, 12, '1236' ], [ 7.3, 13, '1237' ], [ 6.4, 14, '1238' ], [ 4.5, 13, '1239' ] ],
    //     'asks': [ [ 11.1, 27, '1244' ], [ 13.3, 13, '1243' ], [ 14.4, 12, '1242' ], [ 15.5, 11, '1241' ], [ 16.6, 10, '1240' ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const anotherStoredIncrementalIndexedOrderBookTarget = {
    //     'bids': [ [ 10.2, 13, '1234' ], [ 9.1, 11, '1235' ], [ 8.2, 12, '1236' ], [ 7.3, 13, '1237' ], [ 6.4, 14, '1238' ], [ 4.5, 13, '1239' ] ],
    //     'asks': [ [ 11.1, 27, '1244' ], [ 13.3, 13, '1243' ], [ 14.4, 12, '1242' ], [ 15.5, 11, '1241' ], [ 16.6, 10, '1240' ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    var overwrite1234 interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{9.1, 11, "1235"}, []interface{}{9, 3, "1231"}, []interface{}{9, 1, "1232"}, []interface{}{8.2, 12, "1236"}, []interface{}{7.3, 13, "1237"}, []interface{}{6.4, 14, "1238"}, []interface{}{4.5, 13, "1239"}, []interface{}{4, 2, "12399"}},
        "asks": []interface{}{[]interface{}{11.1, 13, "1244"}, []interface{}{13.3, 13, "1243"}, []interface{}{14.4, 12, "1242"}, []interface{}{15.5, 11, "1241"}, []interface{}{16.6, 10, "1240"}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var overwrite1244 interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10, "1234"}, []interface{}{9.1, 11, "1235"}, []interface{}{8.2, 12, "1236"}, []interface{}{7.3, 13, "1237"}, []interface{}{6.4, 14, "1238"}, []interface{}{4.5, 13, "1239"}},
        "asks": []interface{}{[]interface{}{13.3, 13, "1243"}, []interface{}{13.5, 13, "1244"}, []interface{}{14.4, 12, "1242"}, []interface{}{15.5, 11, "1241"}, []interface{}{16.6, 10, "1240"}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var countedOrderBookInput interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10, 1}, []interface{}{9.1, 11, 1}, []interface{}{8.2, 12, 1}, []interface{}{7.3, 13, 1}, []interface{}{7.3, 0, 1}, []interface{}{6.4, 14, 5}, []interface{}{4.5, 13, 5}, []interface{}{4.5, 13, 1}, []interface{}{4.5, 13, 0}},
        "asks": []interface{}{[]interface{}{16.6, 10, 1}, []interface{}{15.5, 11, 1}, []interface{}{14.4, 12, 1}, []interface{}{13.3, 13, 3}, []interface{}{12.2, 14, 3}, []interface{}{11.1, 13, 3}, []interface{}{11.1, 13, 12}},
        "timestamp": 1574827239000,
        "nonce": 69,
        "symbol": nil,
    }
    var countedOrderBookTarget interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10, 1}, []interface{}{9.1, 11, 1}, []interface{}{8.2, 12, 1}, []interface{}{6.4, 14, 5}},
        "asks": []interface{}{[]interface{}{11.1, 13, 12}, []interface{}{12.2, 14, 3}, []interface{}{13.3, 13, 3}, []interface{}{14.4, 12, 1}, []interface{}{15.5, 11, 1}, []interface{}{16.6, 10, 1}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var storedCountedOrderbookTarget interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10, 1}, []interface{}{9.1, 11, 1}, []interface{}{8.2, 12, 1}, []interface{}{6.4, 14, 5}, []interface{}{1, 1, 6}},
        "asks": []interface{}{[]interface{}{11.1, 13, 12}, []interface{}{12.2, 14, 3}, []interface{}{13.3, 13, 3}, []interface{}{14.4, 12, 1}, []interface{}{15.5, 11, 1}, []interface{}{16.6, 10, 1}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    var limitedCountedOrderBookTarget interface{} = map[string]interface{} {
        "bids": []interface{}{[]interface{}{10, 10, 1}, []interface{}{9.1, 11, 1}, []interface{}{8.2, 12, 1}, []interface{}{6.4, 14, 5}},
        "asks": []interface{}{[]interface{}{11.1, 13, 12}, []interface{}{12.2, 14, 3}, []interface{}{13.3, 13, 3}, []interface{}{14.4, 12, 1}, []interface{}{15.5, 11, 1}},
        "timestamp": 1574827239000,
        "datetime": "2019-11-27T04:00:39.000Z",
        "nonce": 69,
        "symbol": nil,
    }
    // const incrementalOrderBookInput = {
    //     'bids': [ [ 10.0, 1 ], [ 10.0, 2 ], [ 9.1, 0 ], [ 8.2, 1 ], [ 7.3, 1 ], [ 6.4, 1 ] ],
    //     'asks': [ [ 11.1, 5 ], [ 11.1, -6 ], [ 11.1, 2 ], [ 12.2, 10 ], [ 12.2, -9.875 ], [ 12.2, 0 ], [ 13.3, 3 ], [ 14.4, 4 ], [ 15.5, 1 ], [ 16.6, 3 ] ],
    //     'timestamp': 1574827239000,
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const incremetalOrderBookTarget = {
    //     'bids': [ [ 10.0, 3 ], [ 8.2, 1 ], [ 7.3, 1 ], [ 6.4, 1 ] ],
    //     'asks': [ [ 11.1, 2 ], [ 12.2, 0.125 ], [ 13.3, 3 ], [ 14.4, 4 ], [ 15.5, 1 ], [ 16.6, 3 ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const limitedIncremetalOrderBookTarget = {
    //     'bids': [ [ 10.0, 3 ], [ 8.2, 1 ], [ 7.3, 1 ], [ 6.4, 1 ] ],
    //     'asks': [ [ 11.1, 2 ], [ 12.2, 0.125 ], [ 13.3, 3 ], [ 14.4, 4 ], [ 15.5, 1 ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const storedIncremetalOrderBookTarget = {
    //     'bids': [ [ 10.0, 3 ], [ 8.2, 1 ], [ 7.3, 1 ], [ 6.4, 1 ], [ 3, 3 ] ],
    //     'asks': [ [ 11.1, 2 ], [ 12.2, 0.125 ], [ 13.3, 3 ], [ 14.4, 4 ], [ 15.5, 1 ], [ 16.6, 3 ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const doubleStoredIncremetalOrderBookTarget = {
    //     'bids': [ [ 10.0, 3 ], [ 8.2, 1 ], [ 7.3, 1 ], [ 6.4, 1 ], [ 3, 10 ] ],
    //     'asks': [ [ 11.1, 2 ], [ 12.2, 0.125 ], [ 13.3, 3 ], [ 14.4, 4 ], [ 15.5, 1 ], [ 16.6, 3 ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    // const negativeStoredIncremetalOrderBookTarget = {
    //     'bids': [ [ 10.0, 3 ], [ 8.2, 1 ], [ 7.3, 1 ], [ 6.4, 1 ] ],
    //     'asks': [ [ 11.1, 2 ], [ 12.2, 0.125 ], [ 13.3, 3 ], [ 14.4, 4 ], [ 16.6, 3 ] ],
    //     'timestamp': 1574827239000,
    //     'datetime': '2019-11-27T04:00:39.000Z',
    //     'nonce': 69,
    //     'symbol': undefined,
    // };
    
// --------------------------------------------------------------------------------------------------------------------

    orderBook := NewOrderBook(orderBookInput)
    limited := NewOrderBook(orderBookInput, 5)
    orderBook.Limit()
    Assert(Equals(orderBook, orderBookTarget))
    limited.Limit()
    Assert(Equals(limited, limitedOrderBookTarget))
    orderBook.Limit()
    Assert(Equals(orderBook, orderBookTarget))
    bids := orderBook.Bids
    bids.Store(1000, 0)
    orderBook.Limit()
    Assert(Equals(orderBook, orderBookTarget))
    bids.Store(3, 4)
    orderBook.Limit()
    Assert(Equals(orderBook, storeBid))
    bids.Store(3, 0)
    orderBook.Limit()
    Assert(Equals(orderBook, orderBookTarget))
    asks := limited.Asks
    asks.Store(15.5, 0)
    limited.Limit()
    Assert(Equals(limited, limitedDeletedOrderBookTarget))
    
// --------------------------------------------------------------------------------------------------------------------

    indexedOrderBook := NewIndexedOrderBook(indexedOrderBookInput)
    limitedIndexedOrderBook := NewIndexedOrderBook(indexedOrderBookInput, 5)
    indexedOrderBook.Limit()
    Assert(Equals(indexedOrderBook, indexedOrderBookTarget))
    limitedIndexedOrderBook.Limit()
    Assert(Equals(limitedIndexedOrderBook, limitedIndexedOrderBookTarget))
    indexedOrderBook.Limit()
    Assert(Equals(indexedOrderBook, indexedOrderBookTarget))
    indexedBids := indexedOrderBook.Bids
    indexedBids.StoreArray([]interface{}{1000, 0, "12345"})
    Assert(Equals(indexedOrderBook, indexedOrderBookTarget))
    indexedBids.StoreArray([]interface{}{10, 0, "1234"})
    indexedBids.StoreArray([]interface{}{10, 2, "1231"})
    indexedBids.StoreArray([]interface{}{10, 1, "1232"})
    indexedBids.StoreArray([]interface{}{4, 2, "12399"})
    indexedBids.StoreArray([]interface{}{9, 2, "1231"})
    indexedBids.StoreArray([]interface{}{9, 3, "1231"})
    indexedBids.StoreArray([]interface{}{9, 1, "1232"})
    indexedOrderBook.Limit()
    Assert(Equals(indexedOrderBook, overwrite1234))
    indexedOrderBook = NewIndexedOrderBook(indexedOrderBookInput)
    indexedAsks := indexedOrderBook.Asks
    indexedAsks.StoreArray([]interface{}{13.5, 13, "1244"})
    indexedOrderBook.Limit()
    Assert(Equals(indexedOrderBook, overwrite1244))
    
// --------------------------------------------------------------------------------------------------------------------

    countedOrderBook := NewCountedOrderBook(countedOrderBookInput)
    limitedCountedOrderBook := NewCountedOrderBook(countedOrderBookInput, 5)
    countedOrderBook.Limit()
    Assert(Equals(countedOrderBook, countedOrderBookTarget))
    limitedCountedOrderBook.Limit()
    Assert(Equals(limitedCountedOrderBook, limitedCountedOrderBookTarget))
    countedOrderBook.Limit()
    Assert(Equals(countedOrderBook, countedOrderBookTarget))
    countedBids := countedOrderBook.Bids
    countedBids.StoreArray([]interface{}{5, 0, 6})
    countedOrderBook.Limit()
    Assert(Equals(countedOrderBook, countedOrderBookTarget))
    countedBids.StoreArray([]interface{}{1, 1, 6})
    countedOrderBook.Limit()
    Assert(Equals(countedOrderBook, storedCountedOrderbookTarget))
    
// --------------------------------------------------------------------------------------------------------------------

    // let incrementalOrderBook = new IncrementalOrderBook (incrementalOrderBookInput);
    // const limitedIncrementalOrderBook = new IncrementalOrderBook (incrementalOrderBookInput, 5);
    // incrementalOrderBook.limit ();
    // Assert (equals (incrementalOrderBook, incremetalOrderBookTarget));
    // incrementalOrderBook.limit (5);
    // limitedIncrementalOrderBook.limit ();
    // Assert (equals (incrementalOrderBook, limitedIncremetalOrderBookTarget));
    // Assert (equals (limitedIncrementalOrderBook, limitedIncremetalOrderBookTarget));
    // incrementalOrderBook.limit ();
    // Assert (equals (incrementalOrderBook, incremetalOrderBookTarget));
    // bids = incrementalOrderBook['bids'];
    // bids.store (3, 3);
    // incrementalOrderBook.limit ();
    // Assert (equals (incrementalOrderBook, storedIncremetalOrderBookTarget));
    // bids.store (3, 7);
    // incrementalOrderBook.limit ();
    // Assert (equals (incrementalOrderBook, doubleStoredIncremetalOrderBookTarget));
    // bids.store (17, 0);
    // Assert (equals (incrementalOrderBook, doubleStoredIncremetalOrderBookTarget));
    // incrementalOrderBook = new IncrementalOrderBook (incrementalOrderBookInput);
    // asks = incrementalOrderBook['asks'];
    // asks.store (15.5, -10);
    // incrementalOrderBook.limit ();
    // Assert (equals (incrementalOrderBook, negativeStoredIncremetalOrderBookTarget));
    
// --------------------------------------------------------------------------------------------------------------------

    // let incrementalIndexedOrderBook = new IncrementalIndexedOrderBook (indexedOrderBookInput);
    // const limitedIncrementalIndexedOrderBook = new IncrementalIndexedOrderBook (indexedOrderBookInput, 5);
    // incrementalIndexedOrderBook.limit ();
    // Assert (equals (incrementalIndexedOrderBook, incrementalIndexedOrderBookTarget));
    // incrementalIndexedOrderBook.limit (5);
    // limitedIncrementalIndexedOrderBook.limit ();
    // Assert (equals (incrementalIndexedOrderBook, limitedIncrementalIndexedOrderBookTarget));
    // Assert (equals (limitedIncrementalIndexedOrderBook, limitedIncrementalIndexedOrderBookTarget));
    // incrementalIndexedOrderBook.limit ();
    // Assert (equals (incrementalIndexedOrderBook, incrementalIndexedOrderBookTarget));
    // bids = incrementalIndexedOrderBook['bids'];
    // bids.store (5, 0, 'xxyy');
    // incrementalIndexedOrderBook.limit ();
    // Assert (equals (incrementalIndexedOrderBook, incrementalIndexedOrderBookTarget));
    // bids.store (10.0, 3, '1234');  // price does match merge size
    // incrementalIndexedOrderBook.limit ();
    // Assert (equals (incrementalIndexedOrderBook, storedIncrementalIndexedOrderBookTarget));
    // bids.store (0, 0, '1234');
    // incrementalIndexedOrderBook.limit ();
    // Assert (equals (incrementalIndexedOrderBook, incrementalIndexedOrderBookDeletedTarget));
    // incrementalIndexedOrderBook = new IncrementalIndexedOrderBook (indexedOrderBookInput);
    // bids = incrementalIndexedOrderBook['bids'];
    // bids.store (10.2, 3, '1234');  // price does not match merge size
    // incrementalIndexedOrderBook.limit ();
    // Assert (equals (incrementalIndexedOrderBook, anotherStoredIncrementalIndexedOrderBookTarget));
    
// --------------------------------------------------------------------------------------------------------------------

    resetBook := NewOrderBook(storeBid)
    resetBook.Limit()
    resetBook.Reset(orderBookInput)
    resetBook.Limit()
    Assert(Equals(resetBook, orderBookTarget))
}